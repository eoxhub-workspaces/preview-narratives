import{a2 as g,p as m,v as h,c as l,o as i,j as r,t as y,g as f}from"./chunks/framework.BUpHk5hx.js";const v={key:0,style:{color:"red","font-weight":"bold"}},w={key:1},_=["items"],S=JSON.parse('{"title":"","description":"","frontmatter":{"layout":"page"},"headers":[],"relativePath":"index.md","filePath":"index.md"}'),x={name:"index.md"},b=Object.assign(x,{setup(P){const d=g(),o=m([]),a=m(""),u=[{keys:["title","subtitle","theme"],title:"By keyword",type:"text",placeholder:"Search in title or subtitle",expanded:!0},{key:"theme",title:"By theme",expanded:!0}];h(async()=>{try{const e=new URLSearchParams(window.location.search).get("preview_url");if(!e)throw new Error('Missing "preview_url" parameter in URL.');const s=await fetch(`${e}narratives.json`);if(!s.ok)throw new Error(`Failed to fetch data from: ${e}narratives.json`);const n=await s.json();n.forEach(c=>{c.image=e+c.image}),o.value=n}catch(t){a.value=t.message,console.error("Fetch error:",t)}});const p=t=>{const e=f("/story"),s=new URLSearchParams({storyurl:t.detail.file}).toString();d.go(`${e}?${s}`)};return(t,e)=>(i(),l("div",null,[e[1]||(e[1]=r("div",{class:"large-space"},null,-1)),a.value?(i(),l("div",v,y(a.value),1)):(i(),l("div",w,[r("client-only",null,[r("eox-itemfilter",{items:o.value,titleProperty:"title",imageProperty:"image",subTitleProperty:"subtitle",aggregateResults:"theme",filterProperties:u,resultType:"cards",onSelect:p,style:{"--select-filter-max-items":"10"},class:"large-margin bottom-margin"},e[0]||(e[0]=[r("h6",{slot:"filterstitle",class:"small vertical-margin"},"Filter Stories:",-1),r("h6",{slot:"resultstitle",class:"large large-margin vertical-margin top-padding"},"Stories preview selection",-1)]),40,_)])])),e[2]||(e[2]=r("div",{class:"large-space"},null,-1))]))}});export{S as __pageData,b as default};
